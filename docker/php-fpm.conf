[www]
; Process manager
pm = dynamic
pm.max_children = 50
pm.start_servers = 5
pm.min_spare_servers = 5
pm.max_spare_servers = 35
pm.max_requests = 500

; Timeout settings
request_terminate_timeout = 300s

; Listen settings
listen = 127.0.0.1:9000
listen.backlog = 511

; Status (optional, for monitoring)
; pm.status_path = /status

; Access log
access.log = /proc/self/fd/2
access.format = "%R - %u %t \"%m %r%Q%q\" %s %f %{mili}d %{kilo}M %C%%"

; Slow log
slowlog = /proc/self/fd/2
request_slowlog_timeout = 10s

; Catch workers output
catch_workers_output = yes

; Clear environment
clear_env = no

; Security limits
php_admin_value[max_execution_time] = 300
php_admin_value[memory_limit] = 256M
php_admin_value[upload_max_filesize] = 200M
php_admin_value[post_max_size] = 200M

; Performance tuning
php_value[opcache.enable] = 1
php_value[opcache.enable_cli] = 0
php_value[opcache.memory_consumption] = 128
php_value[opcache.interned_strings_buffer] = 8
php_value[opcache.max_accelerated_files] = 10000
php_value[opcache.revalidate_freq] = 60
php_value[opcache.fast_shutdown] = 1
php_value[opcache.validate_timestamps] = 0
